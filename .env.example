# Server
PORT=3000
DATABASE_URL=postgres://postgres:postgres@localhost:5432/forgeai
DATABASE_SSL=
DATABASE_SSL_REJECT_UNAUTHORIZED=true

# CORS (no wildcards)
CORS_ALLOWED_ORIGINS=http://localhost:3000

# Auth/session
AUTH_TOKEN_SECRET=change-this-to-a-long-random-secret
ACCESS_TOKEN_TTL_MINUTES=15
REFRESH_TOKEN_TTL_DAYS=30
COOKIE_SECURE=false
COOKIE_SAMESITE=Lax
COOKIE_DOMAIN=

# Rate limits
RATE_LIMIT_LOGIN_MAX=8
RATE_LIMIT_LOGIN_WINDOW_SEC=600
RATE_LIMIT_GENERATION_MAX=30
RATE_LIMIT_GENERATION_WINDOW_SEC=300

# Deploy layer (durable production deployments)
DEPLOY_REGISTRY=
DEPLOY_BASE_DOMAIN=forgeai.app
DEPLOY_PUBLIC_URL_TEMPLATE=
DEPLOY_DOCKER_BIN=docker
DEPLOY_DOCKER_NETWORK=
DEPLOY_CONTAINER_PORT=3000
DEPLOY_STOP_PREVIOUS=true

# Agent runtime verification
AGENT_RUNTIME_DOCKER_BIN=
AGENT_RUNTIME_CONTAINER_PORT=3000
AGENT_RUNTIME_STARTUP_TIMEOUT_MS=45000
AGENT_GOAL_MAX_CORRECTIONS=5
AGENT_OPTIMIZATION_MAX_CORRECTIONS=3
# Backward-compatible aliases (used when phase-specific limits are not set):
AGENT_RUNTIME_MAX_CORRECTIONS=5
AGENT_RUNTIME_KEEP_IMAGES=false
AGENT_FAKE_GOAL_STEPS=5
AGENT_FS_MAX_FILES_PER_STEP=15
AGENT_FS_MAX_TOTAL_DIFF_BYTES=400000
AGENT_FS_MAX_FILE_BYTES=1500000
AGENT_FS_ALLOW_ENV_MUTATION=false
AGENT_LIGHT_VALIDATION_MODE=enforce
AGENT_RUN_LOCK_STALE_SECONDS=1800
AGENT_HEAVY_VALIDATION_MODE=enforce
AGENT_HEAVY_MAX_CORRECTIONS=3
AGENT_HEAVY_INSTALL_DEPS=true

# Optional git author override for auto-commits
GIT_AUTHOR_NAME=ForgeAI Builder
GIT_AUTHOR_EMAIL=builder@local.dev

# OpenAI-compatible provider
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4.1-mini
OPENAI_BASE_URL=https://api.openai.com/v1

# Optional OpenRouter provider
OPENROUTER_API_KEY=
OPENROUTER_MODEL=openai/gpt-4.1-mini
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
